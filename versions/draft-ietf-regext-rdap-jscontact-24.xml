<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rfc
[
  <!ENTITY RFC2119 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml'>
  <!ENTITY RFC3339 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.3339.xml'>
  <!ENTITY RFC5733 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.5733.xml'>
  <!ENTITY RFC6350 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.6350.xml'>
  <!ENTITY RFC7095 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.7095.xml'>
  <!ENTITY RFC8605 PUBLIC ''
    'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.8605.xml'>
  <!ENTITY RFC9083 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9083.xml'>
  <!ENTITY RFC7942 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.7942.xml'>
  <!ENTITY RFC8174 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml'>
  <!ENTITY RFC8288 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml'>
  <!ENTITY RFC9535 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9535.xml'>
  <!ENTITY RFC9536 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9536.xml'>
  <!ENTITY RFC9537 PUBLIC ''
   'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9537.xml'>
  <!ENTITY RFC9553 PUBLIC ''
    'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9553.xml'>
  <!ENTITY RFC9555 PUBLIC ''
    'http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9555.xml'>
  <!ENTITY I-D.ietf-regext-rdap-versioning PUBLIC ''
    'https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-regext-rdap-versioning.xml'>
  <!ENTITY I-D.ietf-regext-rdap-x-media-type PUBLIC ''
    'https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-regext-rdap-x-media-type.xml'>
  <!ENTITY I-D.ietf-calext-jscontact-uid PUBLIC ''
    'https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-calext-jscontact-uid.xml'>
  <!ENTITY I-D.ietf-calext-jscontact-profiles PUBLIC ''
    'https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.ietf-calext-jscontact-profiles.xml'>
        ]>
<?xml-stylesheet type="text/xsl" href="rfc2629.xslt"?>

<?rfc toc="yes"?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="4"?>
<?rfc compact="yes"?>
<?rfc subcompact="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc iprnotified="no"?>

<rfc category="std" docName="draft-ietf-regext-rdap-jscontact-24" ipr="trust200902" submissionType="IETF" consensus="true">
  <front>
    <title abbrev="Using JSContact in RDAP">Using JSContact in Registration Data Access Protocol
    (RDAP) JSON Responses</title>

    <author fullname="Mario Loffredo" initials="M." surname="Loffredo">
      <organization>IIT-CNR/Registro.it</organization>
      <address>
        <postal>
          <street>Via Moruzzi,1</street>
          <city>Pisa</city>
          <country>IT</country>
          <code>56124</code>
        </postal>
        <email>mario.loffredo@iit.cnr.it</email>
        <uri>http://www.iit.cnr.it</uri>
      </address>
    </author>

    <author fullname="Gavin Brown" initials="G" surname="Brown">
      <organization>ICANN</organization>
      <address>
        <postal>
          <street>12025 Waterfront Drive, Suite 300</street>
          <city>Los Angeles</city>
          <region>CA</region>
          <code>90292</code>
          <country>US</country>
        </postal>
        <email>gavin.brown@icann.org</email>
        <uri>https://www.icann.org/</uri>
      </address>
    </author>

    <date/>
    <area>Applications and Real-Time</area>
    <workgroup>Registration Protocols Extensions</workgroup>
    <keyword>RDAP</keyword>
    <keyword>jCard</keyword>
    <keyword>JSContact</keyword>

    <abstract>
      <t>This document describes an RDAP extension which represents entity contact information in
      JSON responses using JSContact.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>This document specifies an extension to the Registration Data Access Protocol (RDAP)
      that allows RDAP servers to use JSContact <xref target="RFC9553"/>
      to represent the contact information associated with entities in RDAP responses, instead
      of jCard <xref target="RFC7095"/>.  It also describes the process by which an RDAP server
      can transition from jCard to JSContact.  RDAP query and response extensions are defined to
      facilitate the transition process.</t>

      <section anchor="Rationale" title="Rationale">
        <t>According to the feedback from RDAP Pilot Working Group <xref target="RDAP-PILOT-WG"/>,
        a group of RDAP server implementers representing registries and registrars of generic
        TLDs, the most commonly raised implementation concern for both servers and client
        implementers, was related to the use of jCard <xref target="RFC7095"/> to represent the
        contact information associated with entities.  Working Group members reported jCard to be
        unintuitive, complicated to implement for both clients and servers, and incompatible
        with best practices for RESTful APIs.</t>

        <t>JSContact <xref target="RFC9553"/> provides a simpler and more
        efficient representation for contact information with regard to time and effort saved in processing it.  In addition, similarly to jCard, it provides a means to
        represent internationalized and unstructured contact information.  Support for internationalized contact information has been
        recognised being necessary to facilitate the future internationalisation of registration
        data directory services.</t>
      </section>

      <section anchor="Conventions" title="Conventions Used in This Document">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <xref target="RFC2119"/> <xref target="RFC8174"/> when, and only when, they appear in all capitals, as shown here.</t>
      </section>
    </section>

    <section anchor="JSContact" title="JSContact">
      <t>The JSContact specification defines a data model and JSON representation of contact
        information that can be used for data storage and exchange in address book or directory
        applications.  It aims to be an alternative to the vCard data format <xref target="RFC6350"/>
        and to be unambiguous, extendable and simple to process.  In contrast with jCard, it is
        not a direct mapping from the vCard data model and expands semantics where appropriate.</t>
      <t>JSContact differs from jCard in that it:</t>

      <t><list style="symbols">
        <t>follows an object-oriented rather than array-oriented approach;<vspace blankLines='1' /></t>
        <t>is simple to process;<vspace blankLines='1' /></t>
        <t>requires no extra work in serialization/deserialization from/to a data model;<vspace blankLines='1' /></t>
        <t>includes no &quot;jagged&quot; arrays;<vspace blankLines='1' /></t>
        <t>prefers maps rather than arrays to implement collections.</t>
      </list></t>

      <t><xref target="RFC9555"/> provides guidance on the conversion of jCard into JSContact, and vice versa.  <xref target="jcard-jscontact-mapping"/> shows JSContact counterparts for the most commonly used jCard properties in an RDAP response.</t>

    </section>

    <section anchor="using-jscontact" title="Using JSContact in RDAP">

    <section anchor="jscontact-profile-for-rdap" title="JSContact Profile for RDAP">

    <t>Since JSContact is a generalized representation of contact data, many of its capabilities are not optimized for use in RDAP responses. This document defines a usage profile for JSContact that simplifies the implementation for both clients and servers.  The JSContact profile for RDAP is compliant with the rules described in <xref target="I-D.ietf-calext-jscontact-profiles"/>.  The profile properties are formally listed in <xref target="jscontact-profile-properties"/>.  The information required to register the profile is described in <xref target="jscontact-profile-registry"/>.</t>

    <t>All types mentioned in this section refer to the JSContact specification <xref target="RFC9553"/> (e.g., Card is the JSContact Card type).</t>

      <section anchor="extension-identifier" title="Extension Identifier">
        <t>Entity objects in RDAP responses <bcp14>MAY</bcp14> include a &quot;jscontact_card&quot; member whose value is a Card object instead of the &quot;vCardArray&quot; member defined in <xref target="RFC9083"/>.</t>
        <t>Servers returning the &quot;jscontact_card&quot; member in their response <bcp14>MUST</bcp14> include the string &quot;jscontact&quot; in the &quot;rdapConformance&quot; array.</t>
      </section>
      <section anchor="extension-version-identifier" title="Extension Version Identifier">
        <t>This extension supports the following versioning types as defined in <xref target="I-D.ietf-regext-rdap-versioning"/>:</t>
        <t><list style="none">
          <t>Opaque Versioning: The Opaque Extension Versioning Identifier is &quot;jscontact&quot;.<vspace blankLines='1' /></t>
          <t>Semantic Versioning: The Semantic Extension Versioning Identifier is &quot;jscontact-0.3&quot;.</t>
        </list></t>
        <t>Note that this extension identifier's version value may differ from the Card version member value.  In fact, the former is related to changes in this RDAP extension, while the latter is related to changes in the JSContact specification.</t>
        <t>NOTE: Please change the Semantic Versioning value to &quot;jscontact-1.0&quot; prior to publication as an RFC.</t>
      </section>
      <section anchor="jscontact-version" title="Version">
        <t>The information required to register the Card &quot;version&quot; member value in the &quot;RDAP JSON Values&quot; registry <xref target="RFC9083"/> is described in <xref target="rdap-json-values-registry"/>.</t>
      </section>
      <section anchor="jscontact-kind" title="Kind">
        <t>The Card &quot;kind&quot; member value <bcp14>MUST</bcp14> be &quot;individual&quot; (default) or &quot;org&quot; to represent an individual or an organization, respectively.</t>
      </section>
      <section anchor="jscontact-language" title="Language">
        <t>The Card &quot;language&quot; member <bcp14>SHOULD</bcp14> be set when localizations are specified (i.e. the &quot;localizations&quot; member is not null).</t>
      </section>
      <section anchor="jscontact-name" title="Name">
        <t>The Card &quot;name&quot; member <bcp14>MUST</bcp14> include the &quot;full&quot; member and <bcp14>MAY</bcp14> include the &quot;components&quot; member to specify the name components of an individual.</t>
        <t>The NameComponent type <bcp14>MUST</bcp14> include only the &quot;kind&quot; and &quot;value&quot; members.  The &quot;kind&quot; member value <bcp14>MUST</bcp14> be &quot;given&quot; or &quot;surname&quot;.</t>
      </section>
      <section anchor="jscontact-organizations" title="Organizations">
        <t>The Organization type <bcp14>MUST</bcp14> include only the &quot;org&quot; member.</t>
      </section>
      <section anchor="jscontact-addresses" title="Addresses">
        <t>The Address type <bcp14>MUST</bcp14> include at least one between the &quot;full&quot;, "components" and "countryCode" members.</t>
        <t>The AddressComponent type <bcp14>MUST</bcp14> include only the &quot;kind&quot; and &quot;value&quot; members.  The &quot;kind&quot; member value <bcp14>MUST</bcp14> be &quot;name&quot;, &quot;locality&quot;, &quot;region&quot; or &quot;postcode&quot;.</t>
      </section>
      <section anchor="jscontact-emails" title="Emails">
        <t>The EmailAddress type <bcp14>MUST</bcp14> include only the &quot;address&quot; member.</t>
      </section>
      <section anchor="jscontact-phones" title="Phones">
        <t>The Phone type <bcp14>MUST</bcp14> include the &quot;number&quot; member and <bcp14>MAY</bcp14> include the &quot;features&quot; member.</t>
        <t>The PhoneFeature type value <bcp14>MUST</bcp14> be &quot;voice&quot; or &quot;fax&quot;.  When the &quot;features&quot; member is missing, the phone number is assumed to be a voice number.</t>
      </section>
      <section anchor="jscontact-links" title="Links">
        <t>The Link type <bcp14>MUST</bcp14> include the &quot;uri&quot; member and <bcp14>MAY</bcp14> include the &quot;kind&quot; member.  The &quot;kind&quot; member value <bcp14>MUST</bcp14> be &quot;contact&quot;.</t>
      </section>
      <section anchor="map-keys" title="Map Keys">
        <t>Since most of the JSContact collections are represented as maps, map keys must be defined.  A JSContact map key <bcp14>MUST</bcp14> comply with the definition of the Id type (see Section 1.4.1 of <xref target="RFC9553"/>).  To aid interoperability, RDAP providers <bcp14>MUST</bcp14> use the following keys related to string values and labels defined in <xref target="RFC5733"/>:
          <list style="symbols">
            <t>&quot;org&quot; in the &quot;organizations&quot; map when there is a single &lt;contact:org&gt; element;<vspace blankLines='1'/></t>
            <t>&quot;addr&quot; in the &quot;addresses&quot; map when there is a single &lt;contact:addr&gt; element;<vspace blankLines='1'/></t>
            <t>&quot;email&quot; in the &quot;emails&quot; map for the &lt;contact:email&gt; element;<vspace blankLines='1'/></t>
            <t>&quot;voice&quot; in the &quot;phones&quot; map for the &lt;contact:voice&gt; element;<vspace blankLines='1' /></t>
            <t>&quot;fax&quot; in the &quot;phones&quot; map for the &lt;contact:fax&gt; element.</t>
          </list>
        </t>

        <t>In cases where both internationalized and localized versions of organization, postal address, and email exist, the related map <bcp14>MUST</bcp14> include the internationalized version, while the localized version <bcp14>MUST</bcp14> be included in the localizations map, as described in <xref target="localizations"/>.</t>

        <t>Additional keys of the &quot;links&quot; map that <bcp14>MUST</bcp14> be used to represent contact links which result from converting jCard &quot;uri&quot; and &quot;contact-uri&quot; properties are:
          <list style="symbols">
            <t>&quot;url&quot; used for the unique or preferred contact url (e.g. a web site).  The &quot;kind&quot; member of the Link object <bcp14>MUST NOT</bcp14> be set;<vspace blankLines='1'/></t>
            <t>&quot;contact-uri&quot; used for the contact uri as defined in <xref target="RFC8605"/>.  The &quot;kind&quot; member of the Link object <bcp14>MUST</bcp14> be set to &quot;contact&quot;.</t>
          </list>
        </t>
        <t>The information required to register the JSContact Id values in the &quot;RDAP JSON Values&quot; registry <xref target="RFC9083"/> is described in <xref target="rdap-json-values-registry"/>.</t>
        <t>Any additional key used for the above maps <bcp14>SHOULD</bcp14> conform with the following scheme: &quot;&lt;registered key&gt;-&lt;sequential number&gt;&quot;.  For example, a phones map containing three voice numbers would contain the following keys: "voice", &quot;voice-1&quot;, &quot;voice-2&quot;.</t>
        <t>The keys <bcp14>SHOULD</bcp14> remain stable until the associated contact information is changed. Any gaps in the numbering <bcp14>MAY</bcp14> only occur when redaction is applied.</t>
      </section>
      <section anchor="localizations" title="Localizations">
      <t>If present, the localized versions of name, organization, postal address and email <bcp14>MUST</bcp14> be added to the &quot;localizations&quot; map.  With reference to the definition of localization in <xref target="RFC9553"/>, an RDAP response with JSContact content <bcp14>MUST</bcp14> expand all localizations (i.e. a nested PatchObject key like &quot;{key1}/{key2}/.../{keyN}&quot; is not allowed).  The following is an elided example of an RDAP entity lookup response including a Card that includes localized version for name, organization and postal address (See PDF for non-ASCII character string).</t>
      <figure anchor="localizations-example" title="Example of handling localizations in JSContact"><artwork xml:space="preserve">
...
"jscontact_card": {
  "@type": "Card",
  "version": "2.0",
  "language": "en",
  "name": {
    "full": "Vasya Pupkin"
  },
  "organizations": {
    "org": {
      "name": "My Company"
    }
  },
  "addresses": {
    "addr": {
      "components": [
        { "kind": "name", "value": "1 Street" },
        { "kind": "locality", "value": "Kyiv" }
      ],
      "countryCode": "UA"
    }
  },
  "localizations": {
    "ua": {
      "addresses": {
        "addr": {
          "components": [
           { "kind": "name", "value": "1, Улица" },
           { "kind": "locality", "value": "Киев" }
          ],
          "countryCode": "UA"
        }
      },
      "name": {
        "full": "Вася Пупкин"
      },
      "organizations": {
        "org": {
          "name": "Моя Компания"
        }
      }
    }
  }
}
...
</artwork></figure>
    </section>

      <section anchor="jscontact-profile-properties" title="Profile Properties">
        <t>The properties of the JSContact profile registered in the JSContact Profile registry as described in <xref target="jscontact-profile-registry"/> are the following:</t>
        <table>
          <thead>
            <tr>
              <th>Property Name</th>
              <th>Property Context</th>
              <th>Restricted Attributes</th>
              <th>Restricted Enum Values</th>
              <th>Restricted PatchObject Keys</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>language</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>kind</td>
              <td>Card</td>
              <td/>
              <td>individual, org</td>
              <td/>
            </tr>
            <tr>
              <td>name</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>full</td>
              <td>Name</td>
              <td>mandatory</td>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>components</td>
              <td>Name</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>kind</td>
              <td>NameComponent</td>
              <td/>
              <td>given, surname</td>
              <td/>
            </tr>
            <tr>
              <td>value</td>
              <td>NameComponent</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>organizations</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>name</td>
              <td>Organization</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>addresses</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>full</td>
              <td>Address</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>countryCode</td>
              <td>Address</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>components</td>
              <td>Address</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>kind</td>
              <td>AddressComponent</td>
              <td/>
              <td>name, locality, region, postcode, country</td>
              <td/>
            </tr>
            <tr>
              <td>value</td>
              <td>AddressComponent</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>emails</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>address</td>
              <td>EmailAddress</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>phones</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>features</td>
              <td>Phone</td>
              <td/>
              <td>voice, fax</td>
              <td/>
            </tr>
            <tr>
              <td>number</td>
              <td>Phone</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>links</td>
              <td>Card</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>kind</td>
              <td>Link</td>
              <td/>
              <td>contact</td>
              <td/>
            </tr>
            <tr>
              <td>uri</td>
              <td>Link</td>
              <td/>
              <td/>
              <td/>
            </tr>
            <tr>
              <td>localizations</td>
              <td>Card</td>
              <td/>
              <td/>
              <td>yes</td>
            </tr>
          </tbody>
        </table>

        <t>For each property, the &quot;Restricted Property Type&quot; field is empty.</t>
        <t>To be consistent with what is stated in Section 2.1 of <xref target="RFC9083"/>, clients <bcp14>SHOULD</bcp14> ignore JSContact properties other than these.</t>
      </section>

      <section anchor="jscard-example-sec" title="Example of using JSContact in RDAP response">
      <t>The following is an example of an RDAP entity including a Card.</t>

<figure anchor="jscard-example" title="Example of using JSContact in RDAP response"><artwork xml:space="preserve">
   {
      "rdapConformance": [
         "rdap_level_0",
         "jscontact"
      ],
      "objectClassName": "entity",
      "handle":"XXXX",
      "jscontact_card":{
        "@type": "Card",
        "version": "2.0",
        "name": {
          "full": "Joe User",
          "components": [
            { "kind": "given", "value": "Joe" },
            { "kind": "surname", "value": "User" }
          ]
        },
        "organizations": {
          "org": {
            "name": "Org Example"
          }
        },
         "addresses": {
           "addr": {
             "components": [
               { "kind": "name", "value": "Main Street 1" },
               { "kind": "locality",
                 "value": "Ludwigshafen am Rhein" },
               { "kind": "region", "value": "Rhineland-Palatinate" },
               { "kind": "postcode", "value": "67067" },
               { "kind": "country", "value": "Germany" }
             ],
             "countryCode": "DE"
           },
           "addr-1": {
             "full": "Somewhere Street 1 Mutterstadt 67112 Germany"
           }
         },
        "phones": {
          "voice": {
            "number": "tel:+49-1522-3433333"
          },
          "fax": {
            "features": { "fax": true },
            "number": "tel:+49-30-901820"
          }
        },
        "emails": {
          "email": {
            "address": "joe.user@example.com"
          }
        },
        "links": {
          "url": {
            "uri": "https://www.example.com"
          },
          "contact-uri": {
            "kind": "contact",
            "uri": "mailto:contact@example.com"
          }
        }
      },
      "roles":[ "registrar" ],
      "publicIds":[
        {
          "type":"IANA Registrar ID",
          "identifier":"1"
        }
      ],
      "links":[
        {
          "value":"https://example.com/entity/XXXX",
          "rel":"self",
          "href":"https://example.com/entity/XXXX",
          "type" : "application/rdap+json"
        }
      ],
      "events":[
        {
          "eventAction":"registration",
          "eventDate":"1990-12-31T23:59:59Z"
        }
      ],
      "asEventActor":[
        {
          "eventAction":"last changed",
          "eventDate":"1991-12-31T23:59:59Z"
        }
      ]
   }
</artwork></figure>

    </section>
    </section>
    <section anchor="request-for-jscontact" title="Request for JSContact">
      <t>The client MAY request the server to include the &quot;jscontact_card&quot; member in the RDAP response by using only one of the following HTTP elements:</t>
      <t><list style="symbols">
        <t>the &quot;versioning&quot; query parameter as defined in <xref target="I-D.ietf-regext-rdap-versioning"/>;<vspace blankLines='1'/></t>
        <t>the RDAP media type's &quot;extensions&quot; parameter as defined in <xref target="I-D.ietf-regext-rdap-x-media-type"/>.</t>
      </list></t>
      <t>Their usage in the transtion from jCard to JSContact is further explained in <xref target="stage2"/>.</t>
    </section>

      <section anchor="reverse-search-properties" title="Reverse Search Properties">
        <t>The use of JSContact updates the mappings of two reverse search properties, namely &quot;fn&quot; and &quot;email&quot;, defined in <xref target="RFC9536"/>.  Such new mappings are registered in the Reverse Search Mapping registry as described in <xref target="rdap-reverse-search-mapping-registry"/>.</t>
      </section>
  </section>

    <section anchor="transition" title="Transition Considerations">

      <section anchor="rdap-features-supporting-transition" title="RDAP Features Supporting the Transition Process">

        <t>RDAP allows servers to communicate service information to clients through notices.
          According to Section 4.3 of <xref target="RFC9083"/>, an RDAP response may contain one or more notice objects. Each notice may include a set of link objects, which can be used to provide clients
          with references.  These link objects may have a "rel" member which defines
          the relationship between resources, as described in Section 4 of <xref target="RFC8288"/>.  The transition
          process outlined in this document uses the &quot;alternate&quot; link relation type.</t>

          <t>The information about the specifications used in the construction of the response is
            also described by the strings that appear in the "rdapConformance" array of the RDAP
            response.</t>
      </section>

      <section anchor="jcard-transition-procedure" title="Transition Procedure">

        <t>The transition procedure consists of three contiguous stages.
          During the procedure, the presence of the string &quot;jscontact&quot; in the &quot;rdapConformance&quot; array
          indicates that JSContact is returned instead of jCard.  The date and time format used to notify
          clients about the stages of this procedure is defined in <xref target="RFC3339" />.</t>

        <section anchor="jcard-deprecation-procedure-goals" title="Goals">
          <t>The procedure described in this document aims to achieve the following goals:</t>
          <t><list style="symbols">
            <t>only one contact representation would be included in the response;<vspace blankLines='1' /></t>
            <t>the response would always conform to <xref target="RFC9083"/> because:
              <list style="symbols">
                <t>since the &quot;jscontact_card&quot; member is a response extension, its presence would be signaled by the string &quot;jscontact&quot; in the &quot;rdapConformance&quot; array;<vspace blankLines='1' /></t>
                <t>since &quot;vcardArray&quot; member is optional in a response, its absence would be allowed;<vspace blankLines='1' /></t>
              </list>
            </t>
            <t>clients would be informed about the transition timeline;<vspace blankLines='1' /></t>
            <t>the backward compatibility would be ensured throughout the transition;<vspace blankLines='1' /></t>
            <t>servers and clients could perform their transitions independently.</t>
          </list></t>
        </section>

        <section anchor="jcard-deprecation-procedure-stages" title="Transition Stages">

            <section anchor="stage1" title="Stage 1: only jCard provided">
              <t>This stage corresponds to providing jCard as the default contact card <xref
                target="RFC9083" />.  The RDAP server is not able to provide an alternate format for contacts.  The &quot;rdapConformance&quot; array <bcp14>MUST NOT</bcp14> contain the string &quot;jscontact&quot;.</t>
            </section>

            <section anchor="stage2" title="Stage 2: jCard sunset">
              <t>During this stage, the server returns jCard by default, but the RDAP server will
                return JSContact if the client requests it through one of the methods described in <xref target="request-for-jscontact" />.
                The &quot;rdapConformance&quot; array <bcp14>MUST</bcp14> contain the string &quot;jscontact&quot; if JSContact is returned.</t>

              <t>From this stage onward, the RDAP server <bcp14>MUST</bcp14> include the string &quot;jscontact&quot; in the &quot;rdapConformance&quot; array of the help response to signal clients that JSContact can be returned instead of jCard.</t>

              <t>If JSContact is not requested, the RDAP server <bcp14>SHOULD</bcp14> include a notice whose type member is set to &quot;jCard sunset end&quot;.  This
                notice contains a description that reports the jCard sunset end date and time, and an
                <bcp14>OPTIONAL</bcp14> link to the corresponding JSContact-based response requested via the
                method used by the client to negotiate extensions (<xref target="request-for-jscontact" />).  If neither method was used, the RDAP server includes links for both methods (<xref target="stage2-example1" />).</t>

             <figure anchor="stage2-example1" title="jCard sunset - JSContact not requested">
               <artwork xml:space="preserve">
"notices": [
  {
    "type": "jCard sunset end",
    "description": ["2025-12-31T23:59:59Z"],
    "links": [
      {
        "value": "https://example.net/entity/XXXX",
        "rel": "alternate",
        "type": "application/rdap+json",
        "href":
          ".../entity/XXXX?versioning=versioning-0.2,jscontact-0.3"
      },
      {
        "value": "https://example.net/entity/XXXX",
        "rel": "alternate",
        "type":
          "application/rdap+json;exts_list=\"rdap_level_0 jscontact\"",
        "href": "https://example.net/entity/XXXX"
      }
    ]
  }
]
</artwork>
</figure>
          </section>

        <section anchor="stage3" title="Stage 3: jCard deprecation">
          <t>This stage corresponds to providing JSContact as the default format for contact data.  The &quot;rdapConformance&quot;
            array always contains the string &quot;jscontact&quot;.  The request for JSContact through any method described in <xref target="request-for-jscontact" />
            <bcp14>MUST</bcp14> be ignored.</t>
          <t>The RDAP server <bcp14>MUST</bcp14> include the string &quot;noJcard&quot; in the &quot;rdapConformance&quot; array of the help response to signal clients that jCard is no longer returned.</t>
          <t>The RDAP server <bcp14>SHOULD</bcp14> also include a notice whose type member is set to &quot;jCard deprecation&quot; whose description reports the verbatim string &quot;jCard has been deprecated&quot; (<xref target="stage3-example1" />).</t>
          <figure anchor="stage3-example1" title="jCard deprecation - jCard has been deprecated"><artwork xml:space="preserve">
"notices": [
  {
    "type": "jCard deprecation",
    "description": ["jCard has been deprecated"],
  }
]
</artwork></figure>
        </section>

        <section anchor="jcard-deprecation-procedure-length" title="Length">
          <t>The length of the jCard sunset period is not fixed by this
            specification.  Anyway, RDAP providers are <bcp14>RECOMMENDED</bcp14> to monitor the
            server log to figure out whether the declared time needs to be changed to meet client
            requirements.</t>
        </section>

      </section>
    </section>
  </section>

    <section anchor="impl-status" title="Implementation Status">
      <t>NOTE: Please remove this section and the reference to RFC 7942 prior to publication as
        an RFC.</t>

      <t>This section records the status of known implementations of the protocol defined by
        this specification at the time of posting of this Internet-Draft, and is based on a
        proposal described in RFC 7942 <xref target="RFC7942"/>.  The description of
        implementations in this section is intended to assist the IETF in its decision processes
        in progressing drafts to RFCs.  Please note that the listing of any individual
        implementation here does not imply endorsement by the IETF.  Furthermore, no effort has
        been spent to verify the information presented here that was supplied by IETF
        contributors.  This is not intended as, and must not be construed to be, a catalog of
        available implementations or their features.  Readers are advised to note that other
        implementations may exist.</t>

      <t>According to RFC 7942, &quot;this will allow reviewers and working groups to assign due
        consideration to documents that have the benefit of running code, which may serve as
        evidence of valuable experimentation and feedback that have made the implemented
        protocols more mature.  It is up to the individual working groups to use this information
        as they see fit&quot;.</t>

      <section anchor="registro-it-rdap-server" title="IIT-CNR/Registro.it RDAP Server">
        <t><list style="none">
    	  <t>Responsible Organization: Institute of Informatics and Telematics of National
          Research Council (IIT-CNR)/Registro.it<vspace blankLines='1' /></t>
    	  <t>Location:https://rdap.pubtest.nic.it/<vspace blankLines='1' /></t>
    	  <t>Description: This implementation includes support for RDAP queries using data from
          the public test environment of .it ccTLD.<vspace blankLines='1' /></t>
    	  <t>Level of Maturity: This is an &quot;alpha&quot; test implementation.<vspace blankLines='1' /></t>
    	  <t>Coverage: This implementation includes all of the features described in this
          specification.<vspace blankLines='1' /></t>
    	  <t>Contact Information: Mario Loffredo, mario.loffredo@iit.cnr.it</t>
    	</list></t>
      </section>

      <section anchor="registro-it-rdap-client" title="IIT-CNR/Registro.it RDAP Client">
        <t><list style="none">
          <t>Responsible Organization: Institute of Informatics and Telematics of National
            Research Council (IIT-CNR)/Registro.it<vspace blankLines='1' /></t>
          <t>Location: https://web-rdap.pubtest.nic.it/<vspace blankLines='1' /></t>
          <t>Description: This is a Javascript web-based RDAP client. RDAP responses are
            retrieved from RDAP servers by the browser, parsed into an HTML representation, and displayed in a format improving the user experience.
            RDAP responses containing JSContact objects are handled identically to those containing
            jCard objects.  Raw versions of RDAP responses including either jCard or JSContact objects are provided.<vspace blankLines='1' /></t>
          <t>Level of Maturity: This is an &quot;alpha&quot; test implementation.<vspace blankLines='1' /></t>
          <t>Coverage: This implementation includes all of the features described in this
            specification.<vspace blankLines='1' /></t>
          <t>Contact Information: Francesco Donini, francesco.donini@iit.cnr.it</t>
        </list></t>
      </section>

      <section anchor="client-rdap-org" title="client.rdap.org">
        <t><list style="none">
    	  <t>Location: https://client.rdap.org/<vspace blankLines='1' /></t>
    	  <t>Description: This is a web-based &quot;single page&quot; RDAP client. RDAP responses are
          retrieved from RDAP servers by the browser, and parsed into an HTML representation.
          RDAP responses containing JSContact objects are handled identically to those containing
          jCard objects.<vspace blankLines='1' /></t>
    	  <t>Level of Maturity: This is an &quot;alpha&quot; test implementation.<vspace blankLines='1' /></t>
    	  <t>Coverage: This implementation implements client support for parsing JSContact objects
          in RDAP responses.<vspace blankLines='1' /></t>
    	  <t>Contact Information: Gavin Brown, feedback@rdap.org</t>
    	</list></t>
      </section>

      <section anchor="cnic" title="CentralNic Registry">
        <t><list style="none">
    	  <t>Responsible Organization: CentralNic Group PLC<vspace blankLines='1' /></t>
    	  <t>Location: https://rdap.centralnic.com/{tld}<vspace blankLines='1' /></t>
    	  <t>Description: This server is the product RDAP service for all top-level domains on the
          CentralNic registry platform.<vspace blankLines='1' /></t>
    	  <t>Level of Maturity: Production quality.<vspace blankLines='1' /></t>
    	  <t>Coverage: This implementation includes all of the features described in this
          specification.<vspace blankLines='1' /></t>
    	  <t>Contact Information: support@centralnic.com</t>
    	</list></t>
      </section>

    </section>

   <section anchor="IANA-considerations" title="IANA Considerations">

    <section anchor="rdap-extensions-registry" title="RDAP Extensions Registry">

     <t>IANA is requested to register the following values in the RDAP Extensions Registry:</t>

     <t><list style="none">
       <t>Extension identifier: jscontact<vspace blankLines='1' /></t>
       <t>Registry operator: Any<vspace blankLines='1' /></t>
       <t>Published specification: This document.<vspace blankLines='1' /></t>
       <t>Contact: IETF &lt;iesg@ietf.org&gt;<vspace blankLines='1' /></t>
       <t>Intended usage: This extension identifier is used as prefix for the &quot;jscontact_card&quot; member returned in the JSON response <xref target="RFC9553"/>.</t>
     </list></t>

      <t><list style="none">
        <t>Extension identifier: noJcard<vspace blankLines='1' /></t>
        <t>Registry operator: Any<vspace blankLines='1' /></t>
        <t>Published specification: This document.<vspace blankLines='1' /></t>
        <t>Contact: IETF &lt;iesg@ietf.org&gt;<vspace blankLines='1' /></t>
        <t>Intended usage: This extension identifier is used by the server to signal clients that jCard is no longer returned.</t>
      </list></t>

    </section>

    <section anchor="rdap-json-values-registry" title="RDAP JSON Values Registry">

      <t>With regard to the fields of the &quot;RDAP JSON Values&quot; registry <xref target="RFC9083"/>, the &quot;JSContact version value&quot; type SHALL be used to register the RDAP values for the Card version member while the &quot;JSContact Id value&quot; type SHALL be used to register the RDAP values for the JSContact Id type as defined in <xref target="map-keys"/>.</t>
      <t>IANA is requested to register the following values in the &quot;RDAP JSON Values&quot; registry:</t>

      <t>
        <list style="hanging">
          <t hangText="Value:">jCard sunset end</t>
          <t hangText="Type:">notice and remark type</t>
          <t hangText="Description:">This notice signals clients that JSContact can be returned upon request.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">jCard deprecation</t>
          <t hangText="Type:">notice and remark type</t>
          <t hangText="Description:">This notice signals clients that jCard is no longer returned.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">2.0</t>
          <t hangText="Type:">JSContact version value</t>
          <t hangText="Description:">The JSContact version <xref target="I-D.ietf-calext-jscontact-uid"/> to use in implementing this specification.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">org</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;organizations&quot; map identifiying the contact organization.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">addr</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;addresses&quot; map identifiying the unique or preferred contact postal address.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">email</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;emails&quot; map identifiying the unique or preferred contact email address.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">voice</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;phones&quot; map identifiying the unique or preferred contact voice number.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">fax</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;phones&quot; map identifiying the unique or preferred contact fax number.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">url</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;links&quot; map identifiying the unique or preferred url.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Value:">contact-uri</t>
          <t hangText="Type:">JSContact Id value</t>
          <t hangText="Description:">The key in the JSContact &quot;links&quot; map identifiying the contact uri as defined in <xref target="RFC8605"/>.</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
      </t>
    </section>
    <section anchor="rdap-reverse-search-mapping-registry" title="RDAP Reverse Search Mapping Registry">

      <t>IANA is requested to register the following entries in the &quot;RDAP Reverse Search Mapping&quot; registry <xref target="RFC9536"/>:</t>
      <t>
        <list style="hanging">
          <t hangText="Searchable Resource Type:">domains, nameservers, entities, ips, autnums</t>
          <t hangText="Related Resource Type:">entity</t>
          <t hangText="Property:">fn</t>
          <t hangText="Property Path:">$.entities[*].jscontact_card.[name.full, localizations.*.name.full]</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
        <list style="hanging">
          <t hangText="Searchable Resource Type:">domains, nameservers, entities</t>
          <t hangText="Related Resource Type:">entity</t>
          <t hangText="Property:">email</t>
          <t hangText="Property Path:">$.entities[*].jscontact_card.[emails.email.address, localizations.*.emails.email.address]</t>
          <t hangText="Registrant Name:">IETF</t>
          <t hangText="Registrant Contact Information:">iesg@ietf.org</t>
          <t hangText="Reference:">This document</t>
        </list>
      </t>
    </section>

     <section anchor="jscontact-profile-registry" title="JSContact Profile Registry">
       <t>IANA is requested to register the following entry in the &quot;JSContact Profile&quot; registry <xref target="I-D.ietf-calext-jscontact-profiles"/>:</t>
       <list style="hanging">
         <t hangText="Name:">rdap</t>
         <t hangText="Profile Version:">1</t>
         <t hangText="Reference:"><xref target="jscontact-profile-properties"/></t>
       </list>
     </section>
   </section>
   <section anchor="privacy-considerations" title="Privacy Considerations">
     <t>Unlike jCard, the formatted name as well as any other personally identifiable information is not required  in JSContact 1.0 <xref target="RFC9553"/>. JSContact version 2.0 <xref target="I-D.ietf-calext-jscontact-uid"/> makes also uid property optional.  Therefore, with reference to what is described in <xref target="RFC9537"/>, properties can be redacted by Removal Method.</t>
   </section>

    <section anchor="security-considerations" title="Security Considerations">
      <t>The extension described in this document does not provide any security services beyond those described by <xref target="RFC9083"/>.</t>
    </section>

    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>The authors would like to acknowledge the following individuals for their contributions to this document: Jasdip Singh, Andrew Newton, Marc Blanchet, Rick Wilhelm, Pawel Kowalik and Francesco Donini.</t>
    </section>

  </middle>

  <back>
    <references title="Normative References">
      &RFC2119;
      &RFC3339;
      &RFC5733;
      &RFC6350;
      &RFC7095;
      &RFC9083;
      &RFC7942;
      &RFC8174;
      &RFC8288;
      &RFC9536;
      &RFC9553;
      &RFC9555;
      &I-D.ietf-regext-rdap-versioning;
      &I-D.ietf-regext-rdap-x-media-type;
      &I-D.ietf-calext-jscontact-profiles;
      &I-D.ietf-calext-jscontact-uid;
    </references>

    <references title="Informative References">
      &RFC8605;
      &RFC9535;
      &RFC9537;
      <reference anchor='RDAP-PILOT-WG'
        target='https://www.icann.org/en/system/files/files/rdap-pilot-report-25apr19-en.pdf'>
        <front>
          <title>RDAP Pilot Report</title>
          <author>
            <organization>ICANN RDAP Pilot WG</organization>
          </author>
          <date year='2019' month='April' />
        </front>
      </reference>
    </references>

    <section anchor="jcard-jscontact-mapping" title="jCard-JSContact Mapping">

      <t>Provided that the keys defined in <xref target="map-keys"/> are used for the JSContact maps, the mapping between the most commonly used jCard properties in an RDAP response and their JSContact counterparts is shown in the following.  The mapping is done through the use of JSONPath expressions <xref target="RFC9535"/>.</t>

      <t>
      <list style="hanging" >
        <t hangText="jCard property:">fn</t>
        <t hangText="Reference:">Section 6.2.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='fn')][3]</t>
        <t hangText="JSContact property:">Name.full</t>
        <t hangText="Reference:">Section 2.2.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[name.full, localizations.*.name.full]</t>
      </list>
      </t>
      <t>
        <list style="hanging">
          <t hangText="jCard property:">&quot;family name&quot; component of n</t>
          <t hangText="Reference:">Section 6.2.2 of <xref target="RFC6350"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='n')][3][0]</t>
          <t hangText="JSContact property:">&quot;postOfficeBox&quot; NameComponent of Name.components</t>
          <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.[name.components[?(@.kind=='surname')].value, localizations.*.name.components[?(@.kind=='surname')].value]</t>
        </list>
      </t>
      <t>
        <list style="hanging">
          <t hangText="jCard property:">&quot;given name&quot; component of n</t>
          <t hangText="Reference:">Section 6.2.2 of <xref target="RFC6350"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='n')][3][1]</t>
          <t hangText="JSContact property:">&quot;given&quot; NameComponent of Name.components</t>
          <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.[name.components[?(@.kind=='given')].value, localizations.*.name.components[?(@.kind=='given')].value]</t>
        </list>
      </t>
      <t>
        <list style="hanging">
          <t hangText="jCard property:">n</t>
          <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='n')]</t>
          <t hangText="JSContact property:">Name</t>
          <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.[name, localizations.*.name]</t>
        </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">org</t>
        <t hangText="Reference:">Section 6.6.4 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='org')][3]</t>
        <t hangText="JSContact property:">Organization.name</t>
        <t hangText="Reference:">Section 2.2.3 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[organizations.org.name, localizations.*.organizations.org.name]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">tel with type=&quot;voice&quot;</t>
        <t hangText="Reference:">Section 6.4.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[1].type=='voice')][3]</t>
        <t hangText="JSContact property:">Phone.number</t>
        <t hangText="Reference:">Section 2.3.3 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.phones.voice.number</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">tel with type=&quot;fax&quot;</t>
        <t hangText="Reference:">Section 6.4.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[1].type=='fax')][3]</t>
        <t hangText="JSContact property:">Phone.number</t>
        <t hangText="Reference:">Section 2.3.3 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.phones.fax.number</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">email</t>
        <t hangText="Reference:">Section 6.4.2 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='email')][3]</t>
        <t hangText="JSContact property:">Email.address</t>
        <t hangText="Reference:">Section 2.3.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[emails.email.address, localizations.*.emails.email.address]</t>
      </list>
      </t>
      <t>
        <list style="hanging" >
          <t hangText="jCard property:">&quot;label&quot; parameter of adr</t>
          <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][1].label</t>
          <t hangText="JSContact property:">Address.full</t>
          <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.[addresses.adr.full, localizations.*.addresses.adr.full]</t>
        </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;post office box&quot; component of adr</t>
        <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][3][1]</t>
        <t hangText="JSContact property:">&quot;postOfficeBox&quot; AddressComponent of Address.components</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.components[?(@.kind=='postOfficeBox')].value, localizations.*.addresses.addr.components[?(@.kind=='postOfficeBox')].value]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;street address&quot; component of adr</t>
        <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][3][2]</t>
        <t hangText="JSContact property:">&quot;name&quot; AddressComponent of Address.components</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.components[?(@.kind=='name')].value, localizations.*.addresses.addr.components[?(@.kind=='name')].value]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;locality&quot; component of adr</t>
        <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][3][3]</t>
        <t hangText="JSContact property:">&quot;locality&quot; AddressComponent of Address.components</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.components[?(@.kind=='locality')].value, localizations.*.addresses.addr.components[?(@.kind=='locality')].value]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;region&quot; component of adr</t>
        <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][3][4]</t>
        <t hangText="JSContact property:">&quot;region&quot; AddressComponent of Address.components</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.components[?(@.kind=='region')].value, localizations.*.addresses.addr.components[?(@.kind=='region')].value]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;postal code&quot; component of adr</t>
        <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][3][5]</t>
        <t hangText="JSContact property:">&quot;postcode&quot; AddressComponent of Address.components</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.components[?(@.kind=='postcode')].value, localizations.*.addresses.addr.components[?(@.kind=='postcode')].value]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;country name&quot; component of adr</t>
        <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][3][6]</t>
        <t hangText="JSContact property:">&quot;country&quot; AddressComponent of Address.components</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.components[?(@.kind=='country')].value, localizations.*.addresses.addr.components[?(@.kind=='country')].value]</t>
      </list>
      </t>
      <t>
      <list style="hanging">
        <t hangText="jCard property:">&quot;cc&quot; parameter of adr</t>
        <t hangText="Reference:">Section 3.1 of <xref target="RFC8605"/></t>
        <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')][1].cc</t>
        <t hangText="JSContact property:">Address.countryCode</t>
        <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
        <t hangText="Path:">$..jscontact_card.[addresses.addr.countryCode, localizations.*.addresses.addr.countryCode]</t>
      </list>
      </t>
      <t>
        <list style="hanging">
          <t hangText="jCard property:">adr</t>
          <t hangText="Reference:">Section 6.3.1 of <xref target="RFC6350"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='adr')]</t>
          <t hangText="JSContact property:">Address</t>
          <t hangText="Reference:">Section 2.5.1 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.[addresses.addr, localizations.*.addresses.addr]</t>
        </list>
      </t>
      <t>
        <list style="hanging">
          <t hangText="jCard property:">contact-uri</t>
          <t hangText="Reference:">Section 2.1 of <xref target="RFC8605"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='contact-uri')]</t>
          <t hangText="JSContact property:">Link.uri</t>
          <t hangText="Reference:">Section 2.6.3 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.links.contact-uri.uri</t>
        </list>
      </t>
      <t>
        <list style="hanging">
          <t hangText="jCard property:">url</t>
          <t hangText="Reference:">Section 6.7.8 of <xref target="RFC6350"/></t>
          <t hangText="Path:">$..vcardArray[1][?(@[0]=='url')]</t>
          <t hangText="JSContact property:">Link.uri</t>
          <t hangText="Reference:">Section 2.6.3 of <xref target="RFC9553"/></t>
          <t hangText="Path:">$..jscontact_card.links.url.uri</t>
        </list>
      </t>
    </section>

    <section title="Change Log">

      <section title="Change from 00 to 01">
        <t><list style="numbers">
          <t>Changed category from &quot;Best Current Practice&quot; to &quot;Standards
            Track&quot;</t>
          <t>Replaced the example of <xref target="jscard-example"/></t>
          <t>Changed the title of the &quot;Migration from JCard to JSCard&quot; section to
            &quot;Transition Considerations&quot;</t>
          <t>Added &quot;Query Parameters&quot; section.</t>
          <t>Updated <xref target="IANA-considerations"/></t>
          <t>Updated <xref target="security-considerations"/></t>
          <t>Rearranged the description of stage 1 in <xref target="jcard-deprecation-procedure-stages"/></t>
          <t>Changed the names of the transition stages 1 and 2</t>
          <t>Corrected examples</t>
          <t>Changed the rdapConformance tag &quot;jscard_level_0&quot; to &quot;jscard&quot;</t>
          <t>Removed the &quot;Best Practices for deprecating a REST API features&quot; section,but added a useful reference.</t>
        </list></t>
      </section>
      <section title="Change from 01 to 02">
        <t><list style="numbers">
          <t>Removed the sentence &quot;which cannot be represented using jCard&quot; in <xref target="Rationale"/>.</t>
        </list></t>
      </section>
      <section title="Change from 02 to 03">
        <t><list style="numbers">
          <t>Updated section &quot;Conventions Used in This Document&quot;.</t>
          <t>Updated the contact in &quot;IANA Considerations&quot; section.</t>
          <t>Changed the reference draft-loffredo-calext-jscontact-vcard to draft-ietf-calext-jscontact-vcard.</t>
          <t>Added reference to RFC8174.</t>
          <t>Other minor edits.</t>
        </list></t>
      </section>
      <section title="Change from 03 to 04">
        <t><list style="numbers">
          <t>Updated the reference draft-dalal-deprecation-header to draft-ietf-httpapi-deprecation-header.</t>
        </list></t>
      </section>
      <section title="Initial WG version">
      <t><list style="numbers">
        <t>Ported from draft-loffredo-regext-rdap-jcard-deprecation-04 renamed to draft-ietf-regext-rdap-jscontact-00.</t>
      </list></t>
      </section>
      <section title="Change from 00 to 01">
        <t><list style="numbers">
          <t>Updated <xref target="using-jscontact"/> and <xref target="jscard-example"/>.</t>
        </list></t>
      </section>
      <section title="Change from 01 to 02">
        <t><list style="numbers">
          <t>Updated <xref target="JSContact"/> and <xref target="jscard-example"/>.</t>
        </list></t>
      </section>
      <section title="Change from 02 to 03">
        <t><list style="numbers">
          <t>Replaced references to obsolete RFC7482 and RFC7483 with RFC9082 and RFC9083.</t>
          <t>Updated <xref target="using-jscontact"/> and <xref target="jscard-example"/>.</t>
        </list></t>
      </section>
      <section title="Change from 03 to 04">
        <t><list style="numbers">
          <t>Changed the references to Internet Drafts.</t>
          <t>Added an example showing how localizations are treated in JSContact.</t>
          <t>Changed the position of section &quot;Goals&quot; in <xref target="jcard-transition-procedure"/>.</t>
          <t>Added three more implementations to <xref target="impl-status"/>.</t>
          <t>Changed the rdapConformance tag &quot;jscard&quot; to &quot;jscard_0&quot;</t>
          <t>Added clarifications addressing the feedback provided by Jasdip Singh about version -03.</t>
          <t>Added <xref target="Acknowledgements"/>.</t>
          <t>Other minor edits.</t>
        </list></t>
      </section>
      <section title="Change from 04 to 05">
        <t><list style="numbers">
          <t>Updated <xref target="jscard-example"/> to make it compliant with draft-ietf-jmap-jscontact-09.</t>
        </list></t>
      </section>
      <section title="Change from 05 to 06">
        <t><list style="numbers">
          <t>Reviewed the notices presented in stages.</t>
        </list></t>
      </section>
      <section title="Change from 06 to 07">
        <t><list style="numbers">
          <t>Corrected the JSON Pointer expressions in <xref target="localizations-example"/>.</t>
          <t>Other minor edits.</t>
        </list></t>
      </section>
      <section title="Change from 07 to 08">
        <t><list style="numbers">
          <t>Corrected a nit in <xref target="localizations-example"/>.</t>
          <t>Removed the reference to draft-ietf-httpapi-deprecation-header.</t>
          <t>Replaced the &quot;deprecation&quot; link relation type with &quot;related&quot;.</t>
          <t>Moved the references to JSContact drafts to the &quot;Normative References&quot; section.</t>
        </list></t>
      </section>
      <section title="Change from 08 to 09">
        <t><list style="numbers">
          <t>Updated the references to JSContact drafts due to the transfer from JMAP to CalExt.</t>
        </list></t>
      </section>
      <section title="Change from 09 to 10">
        <t><list style="numbers">
          <t>Updated <xref target="jscard-example"/> to make it compliant with draft-ietf-calext-jscontact-02.</t>
        </list></t>
      </section>
      <section title="Change from 10 to 11">
        <t><list style="numbers">
          <t>Added Appendix &quot;jCard-JSContact Mapping&quot;.</t>
        </list></t>
      </section>
      <section title="Change from 11 to 12">
        <t><list style="numbers">
          <t>Renamed the &quot;jscard&quot; property to &quot;jscard_0&quot;.</t>
          <t>Corrected JSONPath expressions in <xref target="jcard-jscontact-mapping"/>.</t>
        </list></t>
      </section>
      <section title="Change from 12 to 13">
        <t><list style="numbers">
          <t>Reverted the names of response extension, the rdapConformance tag and extension identifier from  &quot;jscard_0&quot; to &quot;jscard&quot;.</t>
          <t>Corrected <xref target="localizations-example"/> by removing initial '/' character from JSONPath notations related to localizations.</t>
        </list></t>
      </section>
      <section title="Change from 13 to 14">
        <t><list style="numbers">
          <t>Corrected <xref target="jscard-example"/> by replacing &quot;online&quot; property with &quot;cryptoKeys&quot; and &quot;links&quot; properties.</t>
        </list></t>
      </section>
      <section title="Change from 14 to 15">
        <t><list style="numbers">
          <t>Corrected <xref target="localizations-example"/>, <xref target="jscard-example"/> and <xref target="jcard-jscontact-mapping"/> to make them compliant with draft-ietf-calext-jscontact-06.</t>
          <t>Removed mention of JSContact CardGroup object.</t>
          <t>Renamed and changed <xref target="using-jscontact"/>.</t>
          <t>Added <xref target="rdap-json-values-registry"/>.</t>
        </list></t>
      </section>
      <section title="Change from 14 to 15">
        <t><list style="numbers">
          <t>Corrected <xref target="localizations-example"/>, <xref target="jscard-example"/> and <xref target="jcard-jscontact-mapping"/> to make them compliant with draft-ietf-calext-jscontact-06.</t>
          <t>Removed mention of JSContact CardGroup object.</t>
          <t>Renamed and changed <xref target="using-jscontact"/>.</t>
          <t>Added <xref target="rdap-json-values-registry"/>.</t>
        </list></t>
      </section>
      <section title="Change from 15 to 16">
        <t><list style="numbers">
          <t>Replaced JSContact &quot;type&quot; with &quot;kind&quot; in figures.</t>
          <t>Removed &quot;jCard deprecation&quot; stage and &quot;jcard&quot; query parameter.</t>
          <t>Renamed &quot;jCard deprecated&quot; stage into &quot;jCard deprecation&quot;.</t>
          <t>Rephrased <xref target="security-considerations"/>.</t>
          <t>Corrected JSContact examples based on draft-ietf-calext-jscontact-11.</t>
          <t>Fixed nits.</t>
        </list></t>
      </section>
      <section title="Change from 16 to 17">
        <t><list style="numbers">
          <t>Fixed <xref target="localizations-example"/>, <xref target="jscard-example"/>, <xref target="rdap-reverse-search-mapping-registry"/> and <xref target="jcard-jscontact-mapping"/> to make them compliant with draft-ietf-calext-jscontact-16 and purge them of the JSContact properties which are hardly used in RDAP.</t>
          <t>Rearranged <xref target="using-jscontact"/>.</t>
          <t>Added other mapping correspondences to <xref target="jcard-jscontact-mapping"/>.</t>
        </list></t>
      </section>
      <section title="Change from 17 to 18">
        <t><list style="numbers">
          <t>Updated references.</t>
          <t>Updated Gavin Brown's contact info.</t>
          <t>Removed from the notices field the optional link documenting the transition procedure.</t>
          <t>Added text to <xref target="JSContact"/>.</t>
          <t>Added a reference to RFC9553 section defining the Id type.</t>
          <t>Tagged all BCP14 keywords.</t>
          <t>Changed the example in Figure 2.</t>
          <t>Added <xref target="jscontact-name"/>.</t>
          <t>Changed <xref target="jcard-deprecation-procedure-length"/> by removing the sentence about the duration of the transition process.</t>
        </list></t>
      </section>
      <section title="Change from 18 to 19">
        <t><list style="numbers">
          <t>Turned the draft status into &quot;Experimental&quot;.</t>
          <t>Changed &quot;@version&quot; to &quot;version&quot; in the examples.</t>
          <t>Rearranged the content of the &quot;Query Parameters&quot; section and renamed it into &quot;Request for JSContact&quot;.</t>
          <t>Added <xref target="extension-version-identifier"/>.</t>
          <t>Added <xref target="request-for-jscontact"/>.</t>
          <t>Rearranged <xref target="rdap-features-supporting-transition"/>.</t>
          <t>Rearranged <xref target="stage2-example1"/>.</t>
          <t>Removed from <xref target="stage3"/> the &quot;FOR DISCUSSION&quot; item.</t>
          <t>Added to <xref target="stage3"/> a notice signaling the jCard deprecation.</t>
          <t>Changed the fixed literal to redact the URI in <xref target="security-considerations"/>.</t>
          <t>Removed an informative reference and the first paragraph of <xref target="jcard-transition-procedure"/> including it.</t>
        </list></t>
      </section>
      <section title="Change from 19 to 20">
        <t><list style="numbers">
          <t>Renamed the &quot;jscard&quot; extension identifier into &quot;jscontact&quot;.</t>
          <t>Renamed the &quot;jscard&quot; property into &quot;jscontact_card&quot;.</t>
          <t>Replaced any instance of the verbatim string &quot;JSCard&quot; with &quot;JSContact&quot;.</t>
          <t>Rephrased <xref target="jscontact-version"/> by removing &quot;1.0&quot; as a mandatory value for the JSContact version property in RDAP and adding the value to the &quot;RDAP JSON Values&quot; registry.</t>
          <t>Corrected link in <xref target="stage2-example1"/>.</t>
          <t>Minor editorial changes.</t>
        </list></t>
      </section>
      <section title="Change from 20 to 21">
        <t><list style="numbers">
          <t>Added the &quot;Experimental Status&quot; section.</t>
          <t>Changed the controller of IANA registies from IESG to IETF.</t>
          <t>Replaced &quot;rdap-x&quot; with &quot;rdap&quot; in the rdap-x media type.</t>
          <t>Minor editorial changes.</t>
        </list></t>
      </section>
      <section title="Change from 21 to 22">
        <t><list style="numbers">
          <t>Changed JSContact version &quot;1.0&quot; to &quot;2.0&quot;.</t>
          <t>Removed any reference to the JSContact uid property.</t>
          <t>Rephrased text of <xref target="security-considerations"/>.</t>
          <t>Removed JSContact properties from examples that are not included in the RDAP profile for JSContact.</t>
          <t>Added a section about the registration of the JSContact profile for RDAP.</t>
          <t>Added ips and autnums to the searchable resource types of <xref target="rdap-reverse-search-mapping-registry"/>.</t>
          <t>Minor editorial changes.</t>
        </list></t>
      </section>
      <section title="Change from 22 to 23">
        <t><list style="numbers">
          <t>Revised the &quot;Experimental Status&quot; section.</t>
          <t>Revised the registration of the JSContact profile for RDAP.  Added a section that formally lists the profile properties.</t>
          <t>Added the handling and registration of noJcard extension identifier.</t>
          <t>Changed the notice used in the transaction process by changing the &quot;title&quot; property into &quot;type&quot; and registered the values in the &quot;RDAP JSON Values&quot; registry.</t>
          <t>Changed the naming scheme for map keys other than those predefined and clarified that those keys should be stable.</t>
          <t>Revised the &quot;Security Considerations&quot; section and renamed it into &quot;Privacy Considerations&quot;. Added a &quot;Security Considerations&quot; section presenting no substantial implication on scurity.</t>
          <t>Updated the "Acknowledgements" section.</t>
          <t>Minor editorial changes.</t>
        </list></t>
      </section>
      <section title="Change from 23 to 24">
        <t><list style="numbers">
          <t>Changed the status to &quot;Standards Track&quot;.</t>
          <t>Removed the &quot;Experimental Status&quot; section and arranged references accordingly.</t>
          <t>Corrected example in <xref target="stage2-example1"/>.</t>
        </list></t>
      </section>
    </section>
  </back>
</rfc>
